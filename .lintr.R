# lintr configuration file
#
# Deviations from lintr's defaults only!
# To list all linter names enabled by default, use: `names(lintr::default_linters)`

linters <- linters_with_defaults(absolute_path_linter             = absolute_path_linter(),
                                 any_duplicated_linter            = any_duplicated_linter(),
                                 any_is_na_linter                 = any_is_na_linter(),
                                 assignment_linter                = assignment_linter(allow_cascading_assign = FALSE,
                                                                                      allow_pipe_assign = TRUE),
                                 boolean_arithmetic_linter        = boolean_arithmetic_linter(),
                                 brace_linter                     = brace_linter(allow_single_line = TRUE),
                                 class_equals_linter              = class_equals_linter(),
                                 conjunct_test_linter             = conjunct_test_linter(allow_filter = "always"),
                                 consecutive_assertion_linter     = consecutive_assertion_linter(),
                                 empty_assignment_linter          = empty_assignment_linter(),
                                 expect_comparison_linter         = expect_comparison_linter(),
                                 expect_length_linter             = expect_length_linter(),
                                 expect_named_linter              = expect_named_linter(),
                                 expect_not_linter                = expect_not_linter(),
                                 expect_null_linter               = expect_null_linter(),
                                 expect_s3_class_linter           = expect_s3_class_linter(),
                                 expect_s4_class_linter           = expect_s4_class_linter(),
                                 expect_true_false_linter         = expect_true_false_linter(),
                                 expect_type_linter               = expect_type_linter(),
                                 for_loop_index_linter            = for_loop_index_linter(),
                                 ifelse_censor_linter             = ifelse_censor_linter(),
                                 implicit_assignment_linter       = implicit_assignment_linter(),
                                 implicit_integer_linter          = implicit_integer_linter(allow_colon = TRUE),
                                 # DISABLED due to too many false-positives / deviations from RStudio's auto-indent, cf. https://github.com/r-lib/lintr/issues?q=is%3Aissue+is%3Aopen+indentation_linter
                                 # indentation_linter               = indentation_linter(hanging_indent_style = "always"),
                                 indentation_linter               = NULL,
                                 inner_combine_linter             = inner_combine_linter(),
                                 is_numeric_linter                = is_numeric_linter(),
                                 lengths_linter                   = lengths_linter(),
                                 line_length_linter               = line_length_linter(160),
                                 literal_coercion_linter          = literal_coercion_linter(),
                                 # TODO: remove custom `except` arg once https://github.com/r-lib/lintr/issues/2109 is resolved
                                 missing_argument_linter          = missing_argument_linter(except = c("alist",
                                                                                                       "quote",
                                                                                                       "switch",
                                                                                                       "extract")),
                                 nested_ifelse_linter             = nested_ifelse_linter(),
                                 numeric_leading_zero_linter      = numeric_leading_zero_linter(),
                                 object_length_linter             = object_length_linter(40),
                                 object_usage_linter              = NULL,
                                 outer_negation_linter            = outer_negation_linter(),
                                 paste_linter                     = paste_linter(),
                                 pipe_call_linter                 = pipe_call_linter(),
                                 quotes_linter                    = NULL,
                                 redundant_equals_linter          = redundant_equals_linter(),
                                 redundant_ifelse_linter          = redundant_ifelse_linter(),
                                 regex_subset_linter              = regex_subset_linter(),
                                 sprintf_linter                   = sprintf_linter(),
                                 string_boundary_linter           = string_boundary_linter(),
                                 system_file_linter               = system_file_linter(),
                                 todo_comment_linter              = todo_comment_linter(),
                                 trailing_whitespace_linter       = NULL,
                                 undesirable_function_linter      = undesirable_function_linter(symbol_is_undesirable = FALSE),
                                 undesirable_operator_linter      = undesirable_operator_linter(op = c(default_undesirable_operators,
                                                                                                       "->" = "Makes it harder to see in code where an object is defined.")),
                                 unnecessary_concatenation_linter = unnecessary_concatenation_linter(),
                                 unnecessary_nested_if_linter     = unnecessary_nested_if_linter(),
                                 unnecessary_placeholder_linter   = unnecessary_placeholder_linter(),
                                 unreachable_code_linter          = unreachable_code_linter(),
                                 yoda_test_linter                 = yoda_test_linter())
exclusions <- c("docs",
                "input",
                "output",
                "pkgdown",
                "renv",
                "tests",
                list.files(path = "R",
                           recursive = TRUE,
                           full.names = TRUE,
                           pattern = "\\.gen\\.R$"),
                list.files(path = "Rmd",
                           recursive = TRUE,
                           full.names = TRUE,
                           pattern = "\\.nopurl\\.Rmd$"),
                list.files(path = "vignettes",
                           recursive = TRUE,
                           full.names = TRUE,
                           pattern = "\\.Rmd$"),
                "README.Rmd")
